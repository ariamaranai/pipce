chrome={m:chrome.contextMenus,a:chrome.action.onClicked,s:chrome.scripting.executeScript};{let {m,a,s}=chrome,f=(a,b)=>s({target:b?{tabId:b.id,frameIds:[a.frameId]}:{tabId:a.id,allFrames:!0},func:async()=>{let d =document,v=d.getElementsByTagName("video"),i=v.length;if(i){let r=Array(i);while(r[--i]=(v[i].getClientRects()[0]?.width||0),i);(v=v[r.indexOf(Math.max(...r))])!=d.pictureInPictureElement&&v.readyState?(v.disablePictureInPicture=!1,await v.requestPictureInPicture()):d.exitPictureInPicture()}},world:"MAIN"});m.removeAll(),m.create({id:"0",title:"Picture-in-Picture",contexts:["page","frame","video"]}),m.onClicked.addListener(f),a.addListener(f)}